<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gen.M Esports Statistics</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="styles/common.css">
  <link rel="stylesheet" href="styles/stats.css">
</head>
<body>
  <nav>
    <img src="images/gen.m.png" alt="Gen.M Esports Logo">
    <span>Gen.M Esports</span>
    <div id="menu">
      <a href="index.html">Home</a>
      <a href="news.html">News</a>
      <a href="roster.html">Roster</a>
      <a href="stats.html">Statistics</a>
      <a href="schedule.html">Schedule</a>
      <a href="videos.html">Videos</a>
    </div>
    <a href="javascript:void(0);" class="icon" onclick="javascript:toggleMenu();">
    <i class="fa fa-bars"></i>
    </a>
  </nav>

  <main>
    <section class="stats-section">
      <h2>Team Statistics</h2>
      <div id="team-stats" class="team-stats">
      </div>
    </section>

    <section class="stats-section">
      <h2>Player Statistics</h2>
      <div id="player-stats" class="player-stats">
      </div>
    </section>
  </main>

  <footer>
    <p style="text-align: center; color: #888; padding: 1rem;">&copy; 2025 GEN M Esports. All rights reserved.</p>
  </footer>

  <script>
    const data = {"players":{"LeoRice":{"numGames":20,"mostPlayed":["Blaze","Leoric","Dehaka","Yrel","Greymane","Raynor","Chen"],"KDA":2.3207547169811322,"Takedowns":6.15,"Deaths":2.65,"KillParticipation":0.796745710429921,"Hero
Damage":34570.5,"DPM":1727.250012007919,"DamageTaken":67752.35,"Healing":77.35,"HPM":849.9152960016579,"SiegeDamage":129472.05,"TeamfightHeroDamage":18635.65,"TeamfightHealingDone":0,"TeamfightDamageTaken":38031
.35,"ExperienceContribution":17552.65,"XPM":878.9440274520906,"TimeCCdEnemyHeroes":151.9,"TimeRootingEnemyHeroes":0,"TimeSilencingEnemyHeroes":4.25,"TimeStunningEnemyHeroes":16.95,"TimeSpentDead":105.75,"length"
:1194.30625,"TimeSpentDeadPct":0.09107874359595139},"infafox":{"numGames":19,"mostPlayed":["Zagara","Garrosh","Dehaka","Greymane","Varian","Falstad","Tychus","Alarak","Johanna","Diablo","Mephisto"],"KDA":2.17910
44776119404,"Takedowns":7.684210526315789,"Deaths":3.526315789473684,"KillParticipation":0.8829682167632306,"HeroDamage":59964.15789473684,"DPM":2781.096047827894,"DamageTaken":67663.94736842105,"Healing":257.47
36842105263,"HPM":717.7159814605005,"SiegeDamage":82277.05263157895,"TeamfightHeroDamage":29975.263157894737,"TeamfightHealingDone":0,"TeamfightDamageTaken":45112.26315789474,"ExperienceContribution":10572,"XPM"
:494.1034815193205,"TimeCCdEnemyHeroes":97.05263157894737,"TimeRootingEnemyHeroes":2.736842105263158,"TimeSilencingEnemyHeroes":5.052631578947368,"TimeStunningEnemyHeroes":17,"TimeSpentDead":137.10526315789474,"
length":1218.4605263157894,"TimeSpentDeadPct":0.11377259690819452},"Kobo":{"numGames":22,"mostPlayed":["Tassadar","Chromie","Blaze","Mephisto","Nazeebo","Zagara","Leoric","Dehaka","Xul","Junkrat"],"KDA":2.976190
4761904763,"Takedowns":5.681818181818182,"Deaths":1.9090909090909092,"KillParticipation":0.824699339924904,"HeroDamage":50857.181818181816,"DPM":2650.2206859161583,"DamageTaken":29334.090909090908,"Healing":136.
22727272727272,"HPM":177.53104883024386,"SiegeDamage":110375.59090909091,"TeamfightHeroDamage":19811.18181818182,"TeamfightHealingDone":0,"TeamfightDamageTaken":17227.5,"ExperienceContribution":12173.5,"XPM":638
.0019414434383,"TimeCCdEnemyHeroes":434,"TimeRootingEnemyHeroes":3.9545454545454546,"TimeSilencingEnemyHeroes":2.727272727272727,"TimeStunningEnemyHeroes":9.227272727272727,"TimeSpentDead":82.45454545454545,"len
gth":1148.528409090909,"TimeSpentDeadPct":0.07074375226415502},"Cauthon":{"numGames":25,"mostPlayed":["Johanna","Varian","E.T.C.","Sonya","Blaze","Anub'arak","Imperius","Dehaka"],"KDA":3.107142857142857,"Takedow
ns":6.96,"Deaths":2.24,"KillParticipation":0.8603280613149035,"HeroDamage":26332.96,"DPM":1364.9961236998581,"DamageTaken":72451,"Healing":1573.52,"HPM":1133.123758665543,"SiegeDamage":61922.72,"TeamfightHeroDam
age":17394.76,"TeamfightHealingDone":418.12,"TeamfightDamageTaken":49597.56,"ExperienceContribution":9420.64,"XPM":487.9590336395101,"TimeCCdEnemyHeroes":76.48,"TimeRootingEnemyHeroes":0,"TimeSilencingEnemyHeroe
s":3.68,"TimeStunningEnemyHeroes":14.92,"TimeSpentDead":93.76,"length":1168.1075,"TimeSpentDeadPct":0.07751682820974691},"Patienc3":{"numGames":10,"mostPlayed":["Brightwing","Stukov","Rehgar","Uther","Deckard"],
"KDA":2.1904761904761907,"Takedowns":4.6,"Deaths":2.1,"KillParticipation":0.7850457875457876,"HeroDamage":12382.6,"DPM":642.5274015433639,"DamageTaken":24968.8,"Healing":80791.1,"HPM":3986.859201686807,"SiegeDam
age":25872.7,"TeamfightHeroDamage":5338.5,"TeamfightHealingDone":13639,"TeamfightDamageTaken":13424.1,"ExperienceContribution":5355.5,"XPM":261.44787858144133,"TimeCCdEnemyHeroes":466,"TimeRootingEnemyHeroes":4,
"TimeSilencingEnemyHeroes":29.1,"TimeStunningEnemyHeroes":5.9,"TimeSpentDead":91.9,"length":1218.20625,"TimeSpentDeadPct":0.07756444407323951},"SrMacofCheez":{"numGames":19,"mostPlayed":["Rehgar","Lunara","Stuko
v","Sylvanas","Valla","Anduin"],"KDA":2.8636363636363638,"Takedowns":6.631578947368421,"Deaths":2.3157894736842106,"KillParticipation":0.8569688109161794,"HeroDamage":32386.105263157893,"DPM":1664.6158417592658,
"DamageTaken":34076.89473684211,"Healing":39903.78947368421,"HPM":2053.038281749916,"SiegeDamage":58480.84210526316,"TeamfightHeroDamage":15762.473684210527,"TeamfightHealingDone":6052.0526315789475,"TeamfightDa
mageTaken":17801.526315789473,"ExperienceContribution":8347.421052631578,"XPM":425.2999011512627,"TimeCCdEnemyHeroes":1124.421052631579,"TimeRootingEnemyHeroes":2.263157894736842,"TimeSilencingEnemyHeroes":8,"Ti
meStunningEnemyHeroes":2.8947368421052633,"TimeSpentDead":95.47368421052632,"length":1152.3322368421052,"TimeSpentDeadPct":0.08231760109685995},"GreekFire":{"numGames":5,"mostPlayed":["Malfurion","Lucio","Stukov
","Rehgar"],"KDA":5.142857142857143,"Takedowns":7.2,"Deaths":1.4,"KillParticipation":0.9736842105263158,"HeroDamage":15557,"DPM":726.7193956809056,"DamageTaken":22063.4,"Healing":87324.2,"HPM":4170.689962080844,
"SiegeDamage":13356.6,"TeamfightHeroDamage":6997,"TeamfightHealingDone":13027.2,"TeamfightDamageTaken":11500.6,"ExperienceContribution":4240.2,"XPM":207.6060092864687,"TimeCCdEnemyHeroes":1154.2,"TimeRootingEnem
yHeroes":8.6,"TimeSilencingEnemyHeroes":25.8,"TimeStunningEnemyHeroes":14.4,"TimeSpentDead":61.8,"length":1215.475,"TimeSpentDeadPct":0.045804250009265114},"Gokue":{"numGames":7,"mostPlayed":["Junkrat","Falstad"
,"Thrall","Greymane","Tassadar","Medivh"],"KDA":2.3333333333333335,"Takedowns":5,"Deaths":2.142857142857143,"KillParticipation":0.8255847953216374,"HeroDamage":37244.857142857145,"DPM":2034.946091999942,"DamageT
aken":28558.571428571428,"Healing":1156.7142857142858,"HPM":345.7096694103811,"SiegeDamage":94329.14285714286,"TeamfightHeroDamage":12804,"TeamfightHealingDone":58,"TeamfightDamageTaken":14578.714285714286,"Expe
rienceContribution":11970.285714285714,"XPM":613.0893296989418,"TimeCCdEnemyHeroes":120.42857142857143,"TimeRootingEnemyHeroes":9.285714285714286,"TimeSilencingEnemyHeroes":3.142857142857143,"TimeStunningEnemyHe
roes":2.5714285714285716,"TimeSpentDead":73.71428571428571,"length":1084.6160714285713,"TimeSpentDeadPct":0.07223976589260328}},"team":{"NumGames":27,"TeamKDA":0.6852459016393443,"AvgKDA":2.8891869447786793,"Tak
edowns":209,"Deaths":305,"AvgHeroDamage":184469.59259259258,"AvgHealing":81080.92592592593,"AvgTimeCCdEnemyHeroes":1858.888888888889,"AvgTimeRootingEnemyHeroes":12.222222222222221,"AvgTimeSilencingEnemyHeroes":3
8.22222222222222,"AvgTimeStunningEnemyHeroes":55.2962962962963,"AvgTimeDead":474.1111111111111}};

    const menu = document.getElementById("menu");
    function toggleMenu() {
      if (menu.style.display === "block") {
        menu.style.display = "none";
      } else {
        menu.style.display = "block";
      }
    } 

    const description = {
      'numgames': "# of Games",
      'teamkda': 'Team KDA',
      'avgkda': 'Average KDA',
      'avgherodamage': "Avg. Hero Damage",
      'avghealing': "Avg. Healing",
      'avgtimeccdenemyheroes': "Avg. Time CC'ing Enemy Heroes",
      'avgtimerootingenemyheroes': "Avg. Time Rooting Enemy Heroes",
      'avgtimesilencingenemyheroes': "Avg. Time Silencing Enemy Heroes",
      'avgtimestunningenemyheroes': "Avg. Time Stunning Enemy Heroes",
      'avgtimedead': "Avg. Time Spent Dead",
      'herodamage': "Hero Damage",
      'damagetaken': 'Damage Taken',
      'siegedamage': "Siege Damage",
      'teamfightherodamage': "Teamfight Hero Dmg.",
      'teamfighthealingdone': 'Teamfight Healing',
      'teamfightdamagetaken': "Teamfight Dmg. Taken",
      'experiencecontribution': 'XP Contribution',
      'xpm': 'XP per Minute',
      'hpm': 'Healing per Minute',
      'dpm': 'Hero Dmg. per Minute',
      'timeccdenemyheroes': "Time CC'ing Enemy",
      'timerootingenemyheroes': "Time Rooting Enemy",
      'timesilencingenemyheroes': "Time Silencing Enemy",
      'timestunningenemyheroes': "Time Stunning Enemy",
      'timespentdead': 'Time Spent Dead',
      'length': 'Avg. Match Length',
      'timespentdeadpct': 'Time Spent Dead (%)'
    }
    function formatValue(value, key) {
      key = key.toLowerCase();
      var time = !key.includes('pct') && (key.includes('time') || key.includes('length'));
      if (time) {
        const minutes = Math.floor(value / 60)
        const seconds = value - minutes * 60;
        let [intPart, decPart] = Number(seconds).toFixed(2).split('.');
        intPart = intPart.padStart(2, '0');
        return `${minutes}:${intPart}.${decPart}`;
      }
      var percent = key.includes('participation') || key.includes('pct');
      if (percent) {
        value *= 100.0;
      }
      var decimals = 2;
      if (key.includes('numgames')) {
        decimals = 0;
      }
      return value.toLocaleString('en-US', {minimumFractionDigits: decimals, maximumFractionDigits: decimals}) + (percent ? "%" : "");
    }

    const teamContainer = document.getElementById("team-stats");

    Object.keys(data.team).forEach((key) => {
      const card = document.createElement("div");
      card.className = "stat-card";
      card.innerHTML = `
        <h3>${description[key.toLowerCase()] || key}</h3>
        <p>${formatValue(data.team[key], key)}</p>
      `;
      teamContainer.appendChild(card);
    });

    const playerContainer = document.getElementById("player-stats");

    Object.keys(data.players).forEach((player) => {
      const card = document.createElement("div");
      card.className = "stat-card";
      card.innerHTML = `
        <h3>${player}</h3>
      `;
      var heroList = `
          <div class="top-heroes">
      `;
      // add mostPlayed first

      for (var index = 0; index < Math.min(3, data.players[player].mostPlayed.length); index++) {
        const hero = data.players[player].mostPlayed[index];
        heroList += `
          <img src="images/heroes/${hero.toLowerCase()}.png" alt="${hero}">
        `;
      };
      card.innerHTML += `
      ${heroList}
          </div>
      `;
      Object.keys(data.players[player]).forEach((stat) => {
        if (stat !== "mostPlayed" && stat !== 'length') {
          card.innerHTML += `
            <div class="stat-row"><span>${description[stat.toLowerCase()] || stat}:</span> <span>${formatValue(data.players[player][stat], stat)}</span>
          `;
        }
      });

      card.innerHTML += `
            <div class="stat-row"><span>${description[('length')] || stat}:</span> <span>${formatValue(data.players[player]['length'], 'length')}</span>
      `;
      playerContainer.appendChild(card);
    });
</script>
</body>
</html>
